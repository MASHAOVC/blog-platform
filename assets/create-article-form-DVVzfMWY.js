import{r as m,a as u,ad as l,j as t,az as p}from"./index-CtUhi32C.js";import{u as d}from"./useMutation-DsVceCu6.js";import{A as x}from"./article-form-BpfTnt71.js";import{A as f}from"./index-qCBwbwBi.js";import"./index.esm-Cq3Ctgnw.js";const S=()=>{const[o,s]=m.useState(!1),a=u(),n=l(),c=d({mutationFn:r=>p(r),onSuccess:()=>{n.removeQueries(["articles"]),a("/")},onError:r=>{s(!0);try{const e=JSON.parse(r.message);console.error("Status:",e.status),console.error("Errors:",e.body.errors)}catch(e){console.error("Unexpected error format:",e)}}}),i=r=>{c.mutate(r)};return t.jsxs("div",{children:[o?t.jsx(f,{message:"Unexpected error occured, please, reload and try again or come back later!",type:"error",style:{fontFamily:"'Inter', sans-serif"}}):null,t.jsx(x,{onSubmit:i})]})};export{S as CreateArticleForm};
